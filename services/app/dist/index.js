(()=>{"use strict";var e={569:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(965));class a extends i.default{add(e){const{id:t,name:n,expirationDate:o,comment:i,categoryId:a,placeId:r}=e;return{id:t,name:n,expirationDate:o,comment:i,categoryId:a,placeId:r}}list(e){return{foods:e.map((e=>this.add(e)))}}update(e){return this.add(e)}}t.default=a},913:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{u(o.next(e))}catch(e){a(e)}}function s(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}u((o=o.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(103)),r=i(n(39)),s=i(n(569)),u=i(n(840));t.default=()=>{const e=new s.default,t=(0,u.default)();return{add:(n,i,r)=>{o(void 0,void 0,void 0,(function*(){const o=new a.default(n),r=yield t.insert(o);i.status(200).send(e.add(r))})).catch(r)},list:(n,i,a)=>{o(void 0,void 0,void 0,(function*(){const o=n.user.id,a=yield t.select(o);i.status(200).send(e.list(a))})).catch(a)},update:(n,i,a)=>{o(void 0,void 0,void 0,(function*(){const o=new r.default(n),a=yield t.update(o);i.status(200).send(e.update(a))})).catch(a)},remove:(e,n,i)=>{o(void 0,void 0,void 0,(function*(){const o=e.user.id,{foodId:i}=e.params;yield t.remove(o,Number(i)),n.status(200).end()})).catch(i)}}}},103:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this._name=e.body.name,this._expiration_date=Number(e.body.expirationDate),this._comment=e.body.comment,this._place_id=Number(e.body.placeId),this._category_id=e.body.categoryId,this._user_id=e.user.id}get name(){return this._name}get expirationDate(){return this._expiration_date}get comment(){return this._comment}get placeId(){return this._place_id}get categoryId(){return this._category_id}get userId(){return this._user_id}}},39:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){const{foodId:t}=e.params;this._name=e.body.name,this._expiration_date=Number(e.body.expirationDate),this._comment=e.body.comment,this._place_id=Number(e.body.placeId),this._category_id=e.body.categoryId,this._id=Number(t),this._user_id=e.user.id}get id(){return this._id}get name(){return this._name}get expirationDate(){return this._expiration_date}get comment(){return this._comment}get placeId(){return this._place_id}get categoryId(){return this._category_id}get userId(){return this._user_id}}},624:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,n,o,i,a,r){this.id=e,this.name=t,this.expirationDate=n,this.comment=o,this.placeId=i,this.categoryId=a,this.userId=r}}},214:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{u(o.next(e))}catch(e){a(e)}}function s(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}u((o=o.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.FoodsDB=void 0;const a=n(520),r=i(n(972));!function(e){e.select=e=>o(this,void 0,void 0,(function*(){return yield a.Foods.findAll(e)})),e.update=(e,t)=>o(this,void 0,void 0,(function*(){const n=yield a.Foods.findOne({where:e});if(!n)throw new r.default("Foods Not Found",404);return t.userId&&(n.user_id=t.userId),t.categoryId&&(n.category_id=t.categoryId),t.placeId&&(n.place_id=t.placeId),t.name&&(n.name=t.name),t.expirationDate&&(n.expiration_date=t.expirationDate),t.comment&&(n.comment=t.comment),yield n.save()})),e.insert=e=>o(this,void 0,void 0,(function*(){return yield a.Foods.create({name:e.name,expiration_date:e.expiration_date,comment:e.comment,category_id:e.category_id,place_id:e.place_id,user_id:e.user_id}).catch((e=>{throw console.log(e),new r.default("Failed Insert New Food",404)}))})),e.destroy=e=>o(this,void 0,void 0,(function*(){const t=yield a.Foods.findOne({where:e});if(!t)throw new r.default("Foods not Found",404);return yield t.destroy().catch((()=>{throw new r.default("Failed Delete Food Data",404)})),!0}))}(t.FoodsDB||(t.FoodsDB={}))},657:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(267)),a=o(n(913));t.default=e=>{const t=e.Router(),n=(0,a.default)();return t.route("/").get(i.default,n.list).post(i.default,n.add),t.route("/:foodId").put(i.default,n.update).delete(i.default,n.remove),t}},840:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{u(o.next(e))}catch(e){a(e)}}function s(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}u((o=o.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(520),r=n(496),s=i(n(624)),u=n(214);t.default=()=>({insert:e=>o(void 0,void 0,void 0,(function*(){const t=a.Foods.build({name:e.name,expiration_date:e.expirationDate.toString(),comment:e.comment,place_id:e.placeId,category_id:e.categoryId,user_id:e.userId}),n=yield u.FoodsDB.insert(t);return new s.default(n.id,n.name,Number(n.expiration_date),n.comment,n.place_id,n.category_id,n.user_id)})),select:e=>o(void 0,void 0,void 0,(function*(){const t=yield u.FoodsDB.select({where:{user_id:e},order:[["place_id","ASC"],["id","ASC"]]}),n=[];return t.forEach((e=>{const t=new s.default(e.id,e.name,Number(e.expiration_date),e.comment,e.place_id,e.category_id,e.user_id);n.push(t)})),n})),update:e=>o(void 0,void 0,void 0,(function*(){return yield u.FoodsDB.update({[r.Op.and]:[{id:e.id},{user_id:e.userId}]},{name:e.name,expirationDate:e.expirationDate.toString(),comment:e.comment,placeId:e.placeId,categoryId:e.categoryId,userId:e.userId}),new s.default(e.id,e.name,e.expirationDate,e.comment,e.placeId,e.categoryId,e.userId)})),remove:(e,t)=>o(void 0,void 0,void 0,(function*(){yield u.FoodsDB.destroy({[r.Op.and]:[{id:t},{user_id:e}]})}))})},237:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(965)),a=n(231);class r extends i.default{list(e){return{icons:(0,a.toCamelCaseObject)(e)}}}t.default=r},206:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{u(o.next(e))}catch(e){a(e)}}function s(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}u((o=o.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(237));t.default=()=>{const e=new a.default;return{list:(t,n,i)=>{o(void 0,void 0,void 0,(function*(){n.status(200).send(e.list([{id:1,category:"11",image_path:"niku.png"},{id:2,category:"22",image_path:"yasai.png"}]))})).catch(i)}}}},335:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(206));t.default=e=>{const t=e.Router(),n=(0,i.default)();return t.route("/icons").get(n.list),t}},686:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(965));class a extends i.default{add(e){return{id:e.id,name:e.name}}list(e){return{places:e.map((e=>({id:e.id,name:e.name})))}}put(e){return{id:e.id,name:e.name}}}t.default=a},482:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{u(o.next(e))}catch(e){a(e)}}function s(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}u((o=o.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(406)),r=i(n(319)),s=i(n(686)),u=i(n(184));t.default=()=>{const e=new s.default,t=(0,u.default)();return{add:(n,i,r)=>{o(void 0,void 0,void 0,(function*(){const o=new a.default(n),r=yield t.insert(o);i.status(200).send(e.add(r))})).catch(r)},list:(n,i,a)=>{o(void 0,void 0,void 0,(function*(){const o=n.user.id,a=yield t.list(o);i.status(200).send(e.list(a))})).catch(a)},put:(n,i,a)=>{o(void 0,void 0,void 0,(function*(){const o=new r.default(n),a=yield t.update(o);i.status(200).send(e.put(a))})).catch(a)},remove:(e,n,i)=>{o(void 0,void 0,void 0,(function*(){const{placeId:o}=e.params,i=e.user.id;yield t.remove(Number(o),i),n.status(200).end()})).catch(i)}}}},406:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){const{name:t}=e.body;this._name=t,this._user_id=e.user.id}get name(){return this._name}get userId(){return this._user_id}}},319:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){const{placeId:t}=e.params,{name:n}=e.body;this._id=Number(t),this._name=n,this._user_id=e.user.id}get id(){return this._id}get name(){return this._name}get userId(){return this._user_id}}},524:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,n){this.id=e,this.name=t,this.userId=n}}},516:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{u(o.next(e))}catch(e){a(e)}}function s(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}u((o=o.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PlacesDB=void 0;const a=n(492),r=i(n(972));!function(e){e.select=e=>o(this,void 0,void 0,(function*(){return yield a.Places.findAll(e)})),e.update=(e,t)=>o(this,void 0,void 0,(function*(){const n=yield a.Places.findAll({where:e});if(!n.length)throw new r.default("Data Not Found",404);if(n.length>1)throw new r.default("Multiple targets found. Please narrow down to one",404);const o=n[0];return o.name=t,yield o.save()})),e.insert=(e,t)=>o(this,void 0,void 0,(function*(){return yield a.Places.create({name:e,user_id:t})})),e.destroy=e=>o(this,void 0,void 0,(function*(){const t=yield a.Places.findAll({where:e});if(!t.length)throw new r.default("Data Not Found",404);if(t.length>1)throw new r.default("Multiple targets found. Please narrow down to one",404);const n=t[0];return yield n.destroy().catch((()=>{throw new r.default("Failed Delete Data",404)})),!0}))}(t.PlacesDB||(t.PlacesDB={}))},937:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(267)),a=o(n(482));t.default=e=>{const t=e.Router(),n=(0,a.default)();return t.route("/places").post(i.default,n.add).get(i.default,n.list),t.route("/places/:placeId").put(i.default,n.put).delete(i.default,n.remove),t}},184:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{u(o.next(e))}catch(e){a(e)}}function s(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}u((o=o.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(524)),r=n(516),s=n(496);t.default=()=>({insert:e=>o(void 0,void 0,void 0,(function*(){const t=yield r.PlacesDB.insert(e.name,e.userId);return new a.default(t.id,t.name,t.user_id)})),list:e=>o(void 0,void 0,void 0,(function*(){const t=yield r.PlacesDB.select({where:{[s.Op.or]:[{user_id:e},{user_id:null}]},order:[["id","ASC"]]}),n=[];return t.forEach((e=>{n.push(new a.default(e.id,e.name,e.user_id))})),n})),update:e=>o(void 0,void 0,void 0,(function*(){return yield r.PlacesDB.update({[s.Op.and]:[{id:e.id},{user_id:e.userId}]},e.name),new a.default(e.id,e.name,e.userId)})),remove:(e,t)=>o(void 0,void 0,void 0,(function*(){yield r.PlacesDB.destroy({[s.Op.and]:[{id:e},{user_id:t}]})}))})},523:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(965));class a extends i.default{signup(e){return{id:e.id,email:e.email}}login(e,t){return{id:e.id,email:e.email,token:t}}}t.default=a},534:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{u(o.next(e))}catch(e){a(e)}}function s(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}u((o=o.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(785),r=i(n(122)),s=i(n(20)),u=i(n(523)),d=i(n(540));t.default=()=>{const e=new u.default,t=(0,d.default)();return{signup:(n,i,a)=>{o(void 0,void 0,void 0,(function*(){const o=new s.default(n),a=yield t.signup(o);i.status(200).send(e.signup(a))})).catch(a)},login:(n,i,s)=>{o(void 0,void 0,void 0,(function*(){const o=new r.default(n),s=yield t.login(o),u={id:s.id,email:s.email},d=(0,a.signToken)(u);i.status(200).send(e.login(s,d))})).catch(s)}}}},122:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=n(96);t.default=class{constructor(e){const{email:t,password:n}=e.body;this._email=t,this._password=n}get email(){return this._email}get password(){return this._password}comparePassword(e){return(0,o.compareSync)(this._password,e)}}},20:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(972)),a=n(96);t.default=class{constructor(e){const{email:t,password:n}=e.body;if(!t)throw new i.default("emailを入力してください",422);if(!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(t))throw new i.default("emailはメールアドレス形式で入力してください",422);if(!n)throw new i.default("passwordを入力してください",422);if(n.length<3||n.length>255)throw new i.default("passwordは3文字以上255文字以下で入力してください",422);if(!/^[A-Za-z0-9]*$/.test(n))throw new i.default("passwordは英数字のみが使用できます",422);this._email=t,this._password=n}get email(){return this._email}get password(){return(0,a.hashSync)(this._password,10)}}},341:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,n,o){this.id=e,this.email=t,this.password=n,this.lineId=o}}},675:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{u(o.next(e))}catch(e){a(e)}}function s(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}u((o=o.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UsersDB=void 0;const a=n(690),r=i(n(972));!function(e){e.select=e=>o(this,void 0,void 0,(function*(){return yield a.Users.findAll({where:e})})),e.update=(e,t)=>o(this,void 0,void 0,(function*(){const n=yield a.Users.findAll({where:e});if(!n.length)throw new r.default("Users Not Found",404);if(n.length>1)throw new r.default("Multiple targets found. Please narrow down to one",404);const o=n[0];return t.email&&(o.email=t.email),t.password&&(o.password=t.password),t.lineId&&(o.line_id=t.lineId),yield o.save()})),e.insert=e=>o(this,void 0,void 0,(function*(){if(!e.email||!e.password)throw new r.default("Argments Not Enough",404);const t={id:e.id,email:e.email,password:e.password,line_id:e.lineId},[n,o]=yield a.Users.findOrCreate({where:{id:e.id,email:e.email},defaults:t});if(!o)throw new r.default("Failed Insert Data",404);return n})),e.destroy=e=>o(this,void 0,void 0,(function*(){const t=yield a.Users.findAll({where:e});if(!t.length)throw new r.default("Users not Found",404);if(t.length>1)throw new r.default("Multiple targets found. Please narrow down to one",404);const n=t[0];return yield n.destroy().catch((()=>{throw new r.default("Failed Delete Data",404)})),!0})),e.count=e=>o(this,void 0,void 0,(function*(){return yield a.Users.count({where:{email:e}})})),e.register=(t,n)=>o(this,void 0,void 0,(function*(){return yield e.insert({email:t,password:n})})),e.fetchByEmail=t=>o(this,void 0,void 0,(function*(){let n=yield e.select({email:t});if(!n.length)throw new r.default("user not found",404);return n})),e.updateByEmail=(t,n,i)=>o(this,void 0,void 0,(function*(){return yield e.update({id:t,email:n},i)}))}(t.UsersDB||(t.UsersDB={}))},563:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(534));t.default=e=>{const t=e.Router(),n=(0,i.default)();return t.route("/").post(n.signup),t.route("/login").post(n.login),t}},540:function(e,t,n){var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,a){function r(e){try{u(o.next(e))}catch(e){a(e)}}function s(e){try{u(o.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,s)}u((o=o.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(n(972)),r=i(n(341)),s=n(675);t.default=()=>({signup:e=>o(void 0,void 0,void 0,(function*(){if((yield s.UsersDB.count(e.email))>=1)throw new a.default("そのメールアドレスはすでに登録されています",400);const t=yield s.UsersDB.register(e.email,e.password);return new r.default(t.id,t.email)})),login:e=>o(void 0,void 0,void 0,(function*(){const t=(yield s.UsersDB.fetchByEmail(e.email))[0];if(!e.comparePassword(t.password))throw new a.default("メールアドレスまたはパスワードが間違っています",401);return new r.default(t.id,e.email)}))})},280:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0});const o={server:{port:null!==(n=process.env.PORT)&&void 0!==n?n:3001,cors:{origin:"http://localhost:3000"}}};t.default=o},323:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(762),a=o(n(280)).default.server.port;i.listen(a,(()=>{console.info(`Listening at http://localhost:${a}`)}))},412:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Categories=void 0;const i=n(496),a=o(n(332)),r=n(725);class s extends i.Model{}t.Categories=s,s.init({id:{type:i.DataTypes.STRING,autoIncrement:!0,primaryKey:!0,allowNull:!1},name:{type:i.DataTypes.STRING,allowNull:!1},icon_id:{type:i.DataTypes.INTEGER,allowNull:!1,unique:!0}},{tableName:"categories",sequelize:a.default,freezeTableName:!0,timestamps:!1}),s.belongsTo(r.Icons,{foreignKey:"icon_id"})},520:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Foods=void 0;const i=n(496),a=o(n(332)),r=n(412),s=n(492),u=n(690);class d extends i.Model{}t.Foods=d,d.init({id:{type:i.DataTypes.INTEGER,autoIncrement:!0,primaryKey:!0,allowNull:!1},user_id:{type:i.DataTypes.INTEGER,allowNull:!1,unique:!0},place_id:{type:i.DataTypes.INTEGER,allowNull:!0,defaultValue:null,unique:!0},category_id:{type:i.DataTypes.STRING,allowNull:!1},name:{type:i.DataTypes.STRING,allowNull:!1},expiration_date:{type:i.DataTypes.STRING,allowNull:!1},comment:{type:i.DataTypes.STRING,allowNull:!0,defaultValue:null}},{tableName:"foods",sequelize:a.default,freezeTableName:!0,timestamps:!1}),d.belongsTo(u.Users,{foreignKey:"user_id"}),d.belongsTo(s.Places,{foreignKey:"place_id"}),d.belongsTo(r.Categories,{foreignKey:"category_id"})},725:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Icons=void 0;const i=n(496),a=o(n(332));class r extends i.Model{}t.Icons=r,r.init({id:{type:i.DataTypes.INTEGER,primaryKey:!0,allowNull:!1,autoIncrement:!0},category:{type:i.DataTypes.STRING,allowNull:!1},image_path:{type:i.DataTypes.STRING,allowNull:!1}},{tableName:"foods",sequelize:a.default,freezeTableName:!0,timestamps:!1})},492:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Places=void 0;const i=n(496),a=o(n(332)),r=n(690);class s extends i.Model{}t.Places=s,s.init({id:{type:i.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0,allowNull:!1},user_id:{type:i.DataTypes.INTEGER,allowNull:!1},name:{type:i.DataTypes.STRING,allowNull:!1}},{tableName:"places",sequelize:a.default,freezeTableName:!0,timestamps:!1}),s.belongsTo(r.Users,{foreignKey:"user_id"})},690:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Users=void 0;const i=n(496),a=o(n(332));class r extends i.Model{}t.Users=r,r.init({id:{type:i.DataTypes.INTEGER,primaryKey:!0,autoIncrement:!0,unique:!0,allowNull:!1},email:{type:i.DataTypes.STRING,unique:!0,allowNull:!1},password:{type:i.DataTypes.STRING,allowNull:!1},line_id:{type:i.DataTypes.INTEGER,allowNull:!0,defaultValue:null}},{tableName:"users",sequelize:a.default,freezeTableName:!0,timestamps:!1})},332:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0});const o=new(n(496).Sequelize)("myapp","user","password",{host:"mysql",dialect:"mysql"});o.authenticate().then((()=>{console.log("Success test connection")})).catch((e=>{console.log("Failure test connection",e)})),t.default=o},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n extends Error{constructor(e,t=500){super(e),this.message=e,this.status=t}}t.default=n},965:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{error(e){return{message:e.message}}}},785:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.verifyToken=t.signToken=void 0;const i=o(n(344)),a=null!=="secret_key"?"secret_key":"my SECRET_KEY";t.signToken=e=>i.default.sign(e,a),t.verifyToken=e=>i.default.verify(e,a)},231:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toCamelCaseObject=t.toCamelCase=t.hasProperty=void 0,t.hasProperty=(e,...t)=>e instanceof Object&&t.every((t=>t in e)),t.toCamelCase=e=>e.split("_").map(((e,t)=>0===t?e.toLowerCase():e.charAt(0).toUpperCase()+e.slice(1).toLowerCase())).join(""),t.toCamelCaseObject=e=>{if(Array.isArray(e)){const n=[];return e.forEach((e=>{n.push((0,t.toCamelCaseObject)(e))})),n}{const n={};return Object.keys(e).forEach((o=>{n[(0,t.toCamelCase)(o)]=e[o]})),n}}},697:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(965));t.default=e=>{e.use(((e,t,n,o)=>{const a=e.status||500,r=new i.default;n.status(a).send(r.error(e))}))}},267:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.tokenVerify=void 0;const i=o(n(972)),a=n(785),r=n(231);t.tokenVerify=(e,t,n)=>{const o=e.headers.authorization;if(null==o)throw new i.default("Authorizationリクエストヘッダーがありません。",401);if("Bearer"!==o.split(" ")[0])throw new i.default("Authorizationリクエストヘッダーがありません。",401);const s=o.split(" ")[1];try{const t=(0,a.verifyToken)(s);if(!(0,r.hasProperty)(t,"id")||"number"!=typeof t.id)throw new i.default("トークンが間違っています",401);e.user={id:t.id},n()}catch(e){throw new i.default("認証に失敗しました。",401)}},t.default=t.tokenVerify},762:function(e,t,n){var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(860)),a=o(n(582)),r=o(n(280)),s=o(n(563)),u=o(n(335)),d=o(n(697)),l=o(n(937)),c=o(n(657)),f=(0,i.default)();f.use(i.default.json()),f.use(i.default.urlencoded({extended:!1}));const _={origin:r.default.server.cors.origin,optionsSuccessStatus:200};f.use((0,a.default)(_)),f.use("/api/v1/users",(0,s.default)(i.default)),f.use("/api/v1/foods",(0,c.default)(i.default)),f.use("/api/v1/foods",(0,l.default)(i.default)),f.use("/api/v1/foods",(0,u.default)(i.default)),(0,d.default)(f),e.exports=f},96:e=>{e.exports=require("bcrypt")},582:e=>{e.exports=require("cors")},860:e=>{e.exports=require("express")},344:e=>{e.exports=require("jsonwebtoken")},496:e=>{e.exports=require("sequelize")}},t={};!function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o].call(a.exports,a,a.exports,n),a.exports}(323)})();